## anvil

빠른 로컬 이더리움 개발 노드

```bash
$ anvil --help
```

```txt
Usage: anvil [OPTIONS] [COMMAND]

Commands:
  completions  쉘 자동 완성 스크립트 생성 [aliases: com]
  help         이 메시지 또는 주어진 하위 명령의 도움말 인쇄

Options:
  -a, --accounts <NUM>
          생성 및 구성할 개발 계정 수
          
          [default: 10]

  -b, --block-time <SECONDS>
          인터벌 마이닝을 위한 블록 시간(초)
          
          [aliases: --blockTime]

      --balance <NUM>
          모든 개발 계정의 잔액(Ether)
          
          [default: 10000]

      --config-out <FILE>
          `anvil`의 출력을 json으로 사용자 지정 파일에 씀

      --derivation-path <DERIVATION_PATH>
          파생될 자식 키의 파생 경로 설정.
          
          [default: m/44'/60'/0'/0/]

      --dump-state <PATH>
          종료 시 체인의 상태 및 블록 환경을 주어진 파일에 덤프.
          
          값이 디렉토리인 경우 상태는 `<VALUE>/state.json`에 기록됨.

  -h, --help
          도움말 인쇄 ('-h'로 요약 보기)

      --hardfork <HARDFORK>
          사용할 EVM 하드포크.
          
          이름으로 하드포크 선택, 예: `prague`, `cancun`, `shanghai`,
          `paris`, `london`, 등... [default: latest]

      --init <PATH>
          주어진 `genesis.json` 파일로 제네시스 블록 초기화

      --ipc [<PATH>]
          주어진 경로 또는 기본 경로(`/tmp/anvil.ipc`)에서 ipc 서버 실행
          
          [aliases: --ipcpath]

  -j, --threads <THREADS>
          사용할 스레드 수. 0으로 지정하면 기본값은 논리 코어 수
          
          [aliases: --jobs]

      --load-state <PATH>
          이전에 저장된 상태 스냅샷에서 체인 초기화

  -m, --mnemonic <MNEMONIC>
          계정 생성에 사용되는 BIP39 니모닉 구문.
          `mnemonic_random` 또는 `mnemonic_seed`가 사용되는 경우 사용할 수 없음

      --max-persisted-states <MAX_PERSISTED_STATES>
          디스크에 유지할 최대 상태 수.
          
          `prune_history`는 `max_persisted_states`를 0으로 덮어씀.

      --mixed-mining
          

      --mnemonic-random [<MNEMONIC_RANDOM>]
          자동으로 BIP39 니모닉 구문을 생성하고 계정을 파생. 다른 `mnemonic` 옵션과 함께 사용할 수 없음.
          니모닉의 단어 수를 지정할 수 있음. [default: 12]

      --mnemonic-seed-unsafe <MNEMONIC_SEED>
          주어진 시드에서 BIP39 니모닉 구문 생성. 다른 `mnemonic` 옵션과 함께 사용할 수 없음.
          
          주의: 이것은 안전하지 않으며 테스트에만 사용해야 함.
          생성된 개인 키를 프로덕션에서 절대 사용하지 말 것.

      --no-mining
          자동 및 인터벌 마이닝을 비활성화하고 대신 필요할 때 채굴
          
          [aliases: --no-mine]

      --number <NUM>
          제네시스 블록 번호

      --order <ORDER>
          멤풀에서 트랜잭션이 정렬되는 방식
          
          [default: fees]

  -p, --port <NUM>
          수신 대기할 포트 번호
          
          [default: 8545]

      --preserve-historical-states
          상태를 덤프할 때 과거 상태 스냅샷 보존.
          
          이렇게 하면 특정 블록 해시에서 체인의 인메모리 상태가 저장됨.
          
          이러한 과거 상태는 `--load-state` / `--state`일 때 메모리에 로드되며,
          상태가 덤프된 블록 이후의 RPC 호출을 지원함.

      --prune-history [<PRUNE_HISTORY>]
          전체 체인 기록을 유지하지 않음. 숫자 인수가 지정되면 메모리에 최대 이 수만큼의 상태가 유지됨.
          
          활성화되면 상태가 디스크에 유지되지 않으므로 `max_persisted_states`는 0이 됨.

  -s, --state-interval <SECONDS>
          상태 및 블록 환경이 디스크에 덤프되는 간격(초).
          
          --state 및 --dump-state 참조

      --slots-in-an-epoch <SLOTS_IN_AN_EPOCH>
          에포크(epoch) 내의 슬롯 수
          
          [default: 32]

      --state <PATH>
          --load-state 및 --dump-state 모두에 대한 별칭.
          
          파일이 존재하는 경우 파일에 저장된 상태 및 블록 환경으로 체인을 초기화하고, 종료 시 체인의 상태를 덤프함.

      --timestamp <NUM>
          제네시스 블록의 타임스탬프

      --transaction-block-keeper <TRANSACTION_BLOCK_KEEPER>
          메모리에 유지할 트랜잭션이 포함된 블록 수

  -V, --version
          버전 인쇄

Display options:
      --color <COLOR>
          로그 메시지의 색상

          Possible values:
          - auto:   색상 출력 사용 여부를 지능적으로 추측 (기본값)
          - always: 색상 출력 강제
          - never:  색상 출력 강제 비활성화

      --json
          로그 메시지를 JSON으로 포맷팅

      --md
          로그 메시지를 Markdown으로 포맷팅

  -q, --quiet
          로그 메시지를 인쇄하지 않음

  -v, --verbosity...
          로그 메시지의 상세 수준.
          
          상세 수준을 높이려면 여러 번 전달 (예: -v, -vv, -vvv).
          
          문맥에 따라 상세 수준은 다른 의미를 가짐.
          
          예를 들어, EVM의 상세 수준은 다음과 같음:
          - 2 (-vv): 모든 테스트에 대한 로그 인쇄.
          - 3 (-vvv): 실패한 테스트에 대한 실행 트레이스 인쇄.
          - 4 (-vvvv): 모든 테스트에 대한 실행 트레이스 및 실패한 테스트에 대한 설정(setup) 트레이스 인쇄.
          - 5 (-vvvvv): 스토리지 변경 및 줄 번호가 포함된 백트레이스를 포함하여
            모든 테스트에 대한 실행 및 설정 트레이스 인쇄.

Server options:
      --allow-origin <ALLOW_ORIGIN>
          cors `allow_origin` 헤더
          
          [default: *]

      --cache-path <PATH>
          상태가 저장되는 캐시 디렉토리 경로

      --host <IP_ADDR>
          서버가 수신 대기할 호스트
          
          [env: ANVIL_IP_ADDR=]
          [default: 127.0.0.1]

      --no-cors
          CORS 비활성화

      --no-request-size-limit
          기본 요청 본문 크기 제한 비활성화. 작성 시점 기준 기본 제한은 2MB

Fork config:
      --compute-units-per-second <CUPS>
          이 공급자에 대해 가정된 초당 사용 가능한 컴퓨팅 단위(compute units) 수를 설정
          
          기본값 330
          
          --fork-url 및
          [https://docs.alchemy.com/reference/compute-units#what-are-cups-compute-units-per-second](https://docs.alchemy.com/reference/compute-units#what-are-cups-compute-units-per-second) 참조

  -f, --fork-url <URL>
          빈 상태에서 시작하는 대신 원격 엔드포인트를 통해 상태를 가져옴.
          
          특정 블록 번호에서 상태를 가져오려면 `http://localhost:8545@1400000`과 같이 블록 번호를 추가하거나
          `--fork-block-number` 인수를 사용.
          
          [aliases: --rpc-url]

      --fork-block-number <BLOCK>
          원격 엔드포인트를 통해 특정 블록 번호에서 상태를 가져옴.
          
          음수인 경우, 주어진 값을 `latest` 블록 번호에서 뺌.
          
          --fork-url 참조.

      --fork-chain-id <CHAIN>
          원격 엔드포인트에서 가져오는 것을 건너뛰기 위해 체인 ID를 지정.
          이것은 오프라인 시작 모드를 활성화함.
          
          여전히 `--fork-url`과 `--fork-block-number`를 모두 전달해야 하며,
          필요한 상태가 이미 디스크에 캐시되어 있어야 함. 로컬에 없는 것은 원격에서 가져옴.

      --fork-header <HEADERS>
          rpc 클라이언트에 사용할 헤더, 예: "User-Agent: test-agent"
          
          --fork-url 참조.

      --fork-retry-backoff <BACKOFF>
          오류 발생 시 초기 재시도 백오프(backoff).
          
          --fork-url 참조.

      --fork-transaction-hash <TRANSACTION>
          원격 엔드포인트를 통해 특정 트랜잭션 해시가 적용된 후의 상태를 가져옴.
          
          --fork-url 참조.

      --no-rate-limit
          이 노드 공급자에 대한 속도 제한을 비활성화.
          
          기본값 false
          
          --fork-url 및
          [https://docs.alchemy.com/reference/compute-units#what-are-cups-compute-units-per-second](https://docs.alchemy.com/reference/compute-units#what-are-cups-compute-units-per-second) 참조
          
          [aliases: --no-rpc-rate-limit]

      --no-storage-caching
          RPC 캐싱 사용을 명시적으로 비활성화.
          
          모든 스토리지 슬롯은 엔드포인트에서 완전히 읽음.
          
          이 플래그는 프로젝트의 구성 파일을 재정의함.
          
          --fork-url 참조.

      --retries <retries>
          불안정한 네트워크(요청 시간 초과)에 대한 재시도 요청 수
          
          기본값 5

      --timeout <timeout>
          포킹 모드에서 원격 JSON-RPC 서버로 전송된 요청에 대한 시간 초과(ms).
          
          기본값 45000

Environment config:
      --block-base-fee-per-gas <FEE>
          블록의 기본 수수료(base fee)
          
          [aliases: --base-fee]

      --chain-id <CHAIN_ID>
          체인 ID

      --code-size-limit <CODE_SIZE>
          EIP-170: 바이트 단위의 컨트랙트 코드 크기 제한. 테스트 때문에 이를 늘리는 데 유용함.
          완전히 비활성화하려면 `--disable-code-size-limit` 사용. 기본적으로 0x6000 (~25kb)

      --disable-block-gas-limit
          `call.gas_limit <= block.gas_limit` 제약 조건 비활성화

      --disable-code-size-limit
          EIP-170 비활성화: 컨트랙트 코드 크기 제한

      --disable-min-priority-fee
          최소 제안 우선 순위 수수료(minimum suggested priority fee)의 시행 비활성화
          
          [aliases: --no-priority-fee]

      --gas-limit <GAS_LIMIT>
          블록 가스 제한

      --gas-price <GAS_PRICE>
          가스 가격

EVM options:
      --auto-impersonate
          시작 시 자동 가장(automatic impersonation) 활성화.
          이를 통해 모든 트랜잭션 발신자를 다른 계정으로 시뮬레이션할 수 있으며,
          컨트랙트 동작 테스트에 유용함
          
          [aliases: --auto-unlock]

      --disable-console-log
          stdout에 `console.log` 호출 출력 비활성화
          
          [aliases: --no-console-log]

      --disable-default-create2-deployer
          기본 create2 배포자 비활성화
          
          [aliases: --no-create2]

      --disable-pool-balance-checks
          풀 잔액 확인 비활성화

      --memory-limit <MEMORY_LIMIT>
          EVM 실행 당 메모리 제한(바이트)

      --print-traces
          실행된 트랜잭션 및 `eth_call`에 대한 트레이스를 stdout에 인쇄 활성화
          
          [aliases: --enable-trace-printing]

      --steps-tracing
          geth 스타일 트레이스를 반환하는 디버그 호출에 사용되는 단계 추적(steps tracing) 활성화
          
          [aliases: --tracing]

Networks:
      --celo
          Celo 네트워크 기능 활성화

      --optimism
          Optimism 네트워크 기능 활성화
```
