## `rollFork`

### 시그니처

```solidity
// _active_ 포크를 지정된 블록으로 롤백
function rollFork(uint256 blockNumber) external;
```

```solidity
// _active_ 포크를 트랜잭션이 채굴된 블록으로 롤백하고 이전에 실행된 모든 트랜잭션을 재생
function rollFork(bytes32 transaction) external;
```

```solidity
// `rollFork(uint256 blockNumber)`와 동일하지만 `forkId`에 해당하는 포크를 사용
function rollFork(uint256 forkId, uint256 blockNumber) external;
```

```solidity
// `rollFork(bytes32 transaction)`과 동일하지만 `forkId`에 해당하는 포크를 사용
function rollFork(uint256 forkId, bytes32 transaction) external;
```

### 설명

`block.number`를 설정합니다. 포크 식별자가 인수로 전달되면 해당 포크를 업데이트하고, 그렇지 않으면 현재 활성 포크를 업데이트합니다.

트랜잭션 해시가 제공되면 트랜잭션이 채굴된 블록으로 포크를 롤백하고 이전에 실행된 모든 트랜잭션을 재생합니다.

### 예제

현재 활성 포크의 `block.number` 설정:

```solidity
uint256 forkId = vm.createFork(MAINNET_RPC_URL);
vm.selectFork(forkId);

assertEq(block.number, 15_171_037); // 작성 시점 기준, 2022-07-19 04:55:27 UTC

vm.rollFork(15_171_057);

assertEq(block.number, 15_171_057);
```

전달된 `forkId` 인수로 식별된 포크의 `block.number` 설정:

```solidity
uint256 optimismForkId = vm.createFork(OPTIMISM_RPC_URL);

vm.rollFork(optimismForkId, 1_337_000);

vm.selectFork(optimismForkId);

assertEq(block.number, 1_337_000);
```

### 같이 보기

- [roll](/reference/cheatcodes/roll.mdx)
- [createFork](/reference/cheatcodes/create-fork.mdx)
- [selectFork](/reference/cheatcodes/select-fork.mdx)
- [activeFork](/reference/cheatcodes/active-fork.mdx)
