## `createFork`

### 서명

```solidity
// 주어진 엔드포인트와 _최신_ 블록으로 새 포크를 생성하고 포크의 식별자를 반환합니다.
function createFork(string calldata urlOrAlias) external returns (uint256)
```

```solidity
// 주어진 엔드포인트와 블록으로 새 포크를 생성하고 포크의 식별자를 반환합니다.
function createFork(string calldata urlOrAlias, uint256 block) external returns (uint256);
```

```solidity
// 주어진 엔드포인트와 주어진 트랜잭션이 채굴된 블록으로 새 포크를 생성하고, 해당 트랜잭션 이전에 채굴된 모든 트랜잭션을 다시 실행합니다.
function createFork(string calldata urlOrAlias, bytes32 transaction) external returns (uint256);
```

### 설명

주어진 엔드포인트에서 새 포크를 생성하고 포크의 식별자를 반환합니다. 블록 번호가 인수로 전달되면 포크는 해당 블록에서 시작하고, 그렇지 않으면 _최신_ 블록에서 시작합니다.

트랜잭션 해시가 제공되면 트랜잭션이 채굴된 블록으로 포크를 롤백하고 이전에 실행된 모든 트랜잭션을 다시 실행합니다.

### 예제

최신 블록 번호로 새 메인넷 포크 생성:

```solidity
uint256 forkId = vm.createFork(MAINNET_RPC_URL);
vm.selectFork(forkId);

assertEq(block.number, 15_171_037); // 작성 시점 기준, 2022-07-19 04:55:27 UTC
```

주어진 블록 번호로 새 메인넷 포크 생성:

```solidity
uint256 forkId = vm.createFork(MAINNET_RPC_URL, 1_337_000);
vm.selectFork(forkId);

assertEq(block.number, 1_337_000);
```

### 같이 보기

- [activeFork](/reference/cheatcodes/active-fork.mdx)
- [selectFork](/reference/cheatcodes/select-fork.mdx)
- [createSelectFork](/reference/cheatcodes/create-select-fork.mdx)
